{% extends 'layout.html' %}

{% block content %}
<style>
    img {
        width: 100px;
    }

    td {
        vertical-align: middle;
    }
</style>

<div class="container pb-2">
    <h1 class="text-center my-5">Daftar pemain sepakbola {{ flashdata }}</h1>
    <a href="/tambah" class="mx-auto">
        <button type="button" class="btn btn-primary my-3 mx-auto">Tambah data</button>
    </a>
    {% if (flashdata) %}
    <div class="alert alert-warning" role="alert">
        {{flashdata}}
    </div>
    {% endif %}
    <table class="table table-striped table-dark align-middle">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Photo</th>
                <th scope="col">Name</th>
                <th scope="col">Position</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for d in data %}
            <tr>
                <th scope="row" class="align-middle">
                    <div class="no"></div>
                </th>
                <td><img src="http://localhost:3000/public/img/photo/lewi.jpg" alt="" class="mx-auto"></td
                    class="photo">
                <td class="align-middle">{{ d.name }}</td>
                <td class="align-middle">{{ d.position }}</td>
                <td class="align-middle">
                    <a href="/edit/{{ d.id }}"><button type="button" class="btn btn-success">Edit</button></a>
                    <a href="/detail/{{ d.id }}"><button type="button" class="btn btn-primary">Detail</button></a>
                    <button type="button" class="btn btn-danger"
                        onclick="deletePlayer({{d.id}},'{{d.name}}')">Hapus</button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<script>
    let deletePlayer = function (id, name) {
        let Delete = confirm("yakin akan menghapus " + name);
        if (Delete) {
            location.href = "/delete/" + id;
        }
    }
    let no = document.querySelectorAll(".no");
    let a = 0;
    for (i = 1; i <= no.length; i++) {
        no[a].innerHTML = i;
        a++;
    }
</script>

{% endblock %}